{"ast":null,"code":"var _jsxFileName = \"/home/vit/videosdk-rtc-react-sdk-example/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s7 = $RefreshSig$(),\n    _s8 = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { MeetingProvider, useMeeting, useParticipant, useConnection, usePubSub } from \"@videosdk.live/react-sdk\";\nimport { getToken } from \"./api\";\nimport { confirmAlert } from \"react-confirm-alert\"; // Import\n\nimport \"react-confirm-alert/src/react-confirm-alert.css\"; // Import css\n\nimport { JoiningScreen } from \"./components/JoiningScreen\";\nimport ReactPlayer from \"react-player\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst primary = \"#3E84F6\";\nconst width = 400;\nconst height = width * 2 / 3;\nconst borderRadius = 8;\n\nconst chunk = arr => {\n  const newArr = [];\n\n  while (arr.length) newArr.push(arr.splice(0, 3));\n\n  return newArr;\n};\n\nfunction formatAMPM(date) {\n  var hours = date.getHours();\n  var minutes = date.getMinutes();\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\n  hours = hours % 12;\n  hours = hours ? hours : 12; // the hour '0' should be '12'\n\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\n  return strTime;\n}\n\nconst Title = _ref => {\n  let {\n    title,\n    dark\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"h2\", {\n    style: {\n      color: dark ? primary : \"#fff\"\n    },\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 10\n  }, this);\n};\n\n_c = Title;\n\nconst ExternalVideo = () => {\n  _s();\n\n  const [{\n    link,\n    playing\n  }, setVideoInfo] = useState({\n    link: null,\n    playing: false\n  });\n\n  const onVideoStateChanged = data => {\n    const {\n      currentTime,\n      link,\n      status\n    } = data;\n\n    switch (status) {\n      case \"stopped\":\n        console.log(\"stopped in switch\");\n        externalPlayer.current.src = null;\n        setVideoInfo({\n          link: null,\n          playing: false\n        });\n        break;\n\n      case \"resumed\":\n        if (typeof currentTime === \"number\") {\n          externalPlayer.current.currentTime = currentTime;\n        }\n\n        externalPlayer.current.play();\n        setVideoInfo(s => ({ ...s,\n          playing: true\n        }));\n        break;\n\n      case \"paused\":\n        externalPlayer.current.pause();\n        setVideoInfo(s => ({ ...s,\n          playing: false\n        }));\n        break;\n\n      case \"started\":\n        setVideoInfo({\n          link,\n          playing: true\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const onVideoSeeked = data => {\n    const {\n      currentTime\n    } = data;\n\n    if (typeof currentTime === \"number\") {\n      externalPlayer.current.currentTime = currentTime;\n    }\n  };\n\n  useMeeting({\n    onVideoStateChanged,\n    onVideoSeeked\n  });\n  const externalPlayer = useRef();\n  return !link ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      borderRadius,\n      padding: borderRadius,\n      margin: borderRadius,\n      backgroundColor: primary,\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      title: \"Externam Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      style: {\n        borderRadius,\n        height,\n        width,\n        backgroundColor: \"black\"\n      },\n      autoPlay: true,\n      ref: externalPlayer,\n      src: link\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ExternalVideo, \"3Z/O/RsDRcwnLGd4gZbG7RhhwH0=\", false, function () {\n  return [useMeeting];\n});\n\n_c2 = ExternalVideo;\n\nconst MessageList = _ref2 => {\n  let {\n    messages\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: messages === null || messages === void 0 ? void 0 : messages.map((message, i) => {\n      const {\n        senderName,\n        message: text,\n        timestamp\n      } = message;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: 8,\n          backgroundColor: \"darkblue\",\n          borderRadius: 8,\n          overflow: \"hidden\",\n          padding: 8,\n          color: \"#fff\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            padding: 0,\n            fontStyle: \"italic\"\n          },\n          children: senderName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            padding: 0,\n            marginTop: 4\n          },\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            padding: 0,\n            opacity: 0.6,\n            marginTop: 4\n          },\n          children: formatAMPM(new Date(timestamp))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = MessageList;\n\nconst MeetingChat = _ref3 => {\n  _s2();\n\n  let {\n    tollbarHeight\n  } = _ref3;\n  const {\n    publish,\n    messages\n  } = usePubSub(\"CHAT\", {});\n  const [message, setMessage] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginLeft: borderRadius,\n      width: 400,\n      backgroundColor: primary,\n      overflowY: \"scroll\",\n      borderRadius,\n      height: `calc(100vh - ${tollbarHeight + 2 * borderRadius}px)`,\n      padding: borderRadius\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      title: \"Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: message,\n        onChange: e => {\n          const v = e.target.value;\n          setMessage(v);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button default\",\n        onClick: () => {\n          const m = message;\n\n          if (m.length) {\n            publish(m, {\n              persist: true\n            });\n            setMessage(\"\");\n          }\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MessageList, {\n      messages: messages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(MeetingChat, \"ieoYd2/G2cVHc5F+X1Z5Wq/ZlGA=\", false, function () {\n  return [usePubSub];\n});\n\n_c4 = MeetingChat;\n\nconst ParticipantView = _ref4 => {\n  _s3();\n\n  var _webcamRef$current, _webcamRef$current2;\n\n  let {\n    participantId\n  } = _ref4;\n  const webcamRef = useRef(null);\n  const micRef = useRef(null);\n  const screenShareRef = useRef(null);\n\n  const onStreamEnabled = stream => {};\n\n  const onStreamDisabled = stream => {};\n\n  const {\n    displayName,\n    participant,\n    webcamStream,\n    micStream,\n    screenShareStream,\n    webcamOn,\n    micOn,\n    screenShareOn,\n    isLocal,\n    isActiveSpeaker,\n    isMainParticipant,\n    switchTo,\n    pinState,\n    setQuality,\n    setViewPort,\n    enableMic,\n    disableMic,\n    enableWebcam,\n    disableWebcam,\n    pin,\n    unpin\n  } = useParticipant(participantId, {\n    onStreamEnabled,\n    onStreamDisabled\n  });\n  useEffect(() => {\n    if (webcamRef.current && !isLocal && webcamStream) {\n      setViewPort(webcamRef.current.wrapper.offsetWidth, webcamRef.current.wrapper.offsetHeight);\n    }\n  }, [(_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : _webcamRef$current.offsetHeight, (_webcamRef$current2 = webcamRef.current) === null || _webcamRef$current2 === void 0 ? void 0 : _webcamRef$current2.offsetWidth, webcamStream]);\n  const webcamMediaStream = useMemo(() => {\n    if (webcamOn && webcamStream) {\n      const mediaStream = new MediaStream();\n      mediaStream.addTrack(webcamStream.track);\n      return mediaStream;\n    }\n  }, [webcamStream, webcamOn]);\n  const screenShareMediaStream = useMemo(() => {\n    if (screenShareOn) {\n      const mediaStream = new MediaStream();\n      mediaStream.addTrack(screenShareStream.track);\n      return mediaStream;\n    }\n  }, [screenShareStream, screenShareOn]);\n  useEffect(() => {\n    if (micRef.current) {\n      if (micOn && micStream) {\n        const mediaStream = new MediaStream();\n        mediaStream.addTrack(micStream.track);\n        micRef.current.srcObject = mediaStream;\n        micRef.current.play().catch(error => console.error(\"mic  play() failed\", error));\n      } else {\n        micRef.current.srcObject = null;\n      }\n    }\n  }, [micStream, micOn]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width,\n      backgroundColor: primary,\n      borderRadius: borderRadius,\n      overflow: \"hidden\",\n      margin: borderRadius,\n      padding: borderRadius,\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: micRef,\n      autoPlay: true,\n      muted: isLocal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        borderRadius: borderRadius,\n        overflow: \"hidden\",\n        backgroundColor: \"black\",\n        width: \"100%\",\n        height: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            ref: webcamRef //\n            ,\n            playsinline: true // very very imp prop\n            ,\n            playIcon: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) //\n            ,\n            pip: false,\n            light: false,\n            controls: false,\n            muted: true,\n            playing: true //\n            ,\n            url: webcamMediaStream //\n            ,\n            height: \"100%\",\n            width: \"100%\",\n            onError: err => {\n              console.log(err, \"participant video error\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: borderRadius,\n            right: borderRadius\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: webcamOn ? \"green\" : \"red\",\n              fontSize: 16,\n              fontWeight: \"bold\",\n              opacity: 1\n            },\n            children: \"WEB CAM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: 10,\n            left: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button blue\",\n            style: {// height: 50,\n              // width: 200,\n            },\n            onClick: async () => {\n              const meetingId = prompt(`Please enter meeting id where you want to switch ${displayName}`);\n              const token = await getToken();\n\n              if (meetingId && token) {\n                try {\n                  await switchTo({\n                    meetingId,\n                    payload: \"Im Switching\",\n                    token: token\n                  });\n                } catch (e) {\n                  console.log(\"swithc To Error\", e);\n                }\n              } else {\n                alert(\"Empty meetingId!\");\n              }\n            },\n            children: \"Switch Participant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: borderRadius,\n        position: \"relative\",\n        borderRadius: borderRadius,\n        overflow: \"hidden\",\n        backgroundColor: \"black\",\n        width: \"100%\",\n        height: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            ref: screenShareRef //\n            ,\n            playsinline: true // very very imp prop\n            ,\n            playIcon: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) //\n            ,\n            pip: false,\n            light: false,\n            controls: false,\n            muted: true,\n            playing: true //\n            ,\n            url: screenShareMediaStream //\n            ,\n            height: \"100%\",\n            width: \"100%\",\n            onError: err => {\n              console.log(err, \"participant video error\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: borderRadius,\n            right: borderRadius\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: screenShareOn ? \"green\" : \"red\",\n              fontSize: 16,\n              fontWeight: \"bold\",\n              opacity: 1\n            },\n            children: \"SCREEN SHARING\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [{\n        k: \"Name\",\n        v: displayName\n      }, {\n        k: \"webcamOn\",\n        v: webcamOn ? \"YES\" : \"NO\"\n      }, {\n        k: \"micOn\",\n        v: micOn ? \"YES\" : \"NO\"\n      }, {\n        k: \"screenShareOn\",\n        v: screenShareOn ? \"YES\" : \"NO\"\n      }, {\n        k: \"isLocal\",\n        v: isLocal ? \"YES\" : \"NO\"\n      }, {\n        k: \"isActiveSpeaker\",\n        v: isActiveSpeaker ? \"YES\" : \"NO\"\n      }, {\n        k: \"isMainParticipant\",\n        v: isMainParticipant ? \"YES\" : \"NO\"\n      }].map(_ref5 => {\n        let {\n          k,\n          v\n        } = _ref5;\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: \"1px solid #fff\",\n              padding: 4\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: 0,\n                padding: 0,\n                color: \"#fff\"\n              },\n              children: k\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: \"1px solid #fff\",\n              padding: 4\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: 0,\n                padding: 0,\n                color: \"#fff\"\n              },\n              children: v\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, k, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(ParticipantView, \"JsosbFCeONFvBxqW7cabFb4O6k8=\", false, function () {\n  return [useParticipant];\n});\n\n_c5 = ParticipantView;\n\nconst ParticipantsView = () => {\n  _s4();\n\n  const {\n    participants\n  } = useMeeting();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      flexDirection: \"column\",\n      padding: borderRadius\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      dark: true,\n      title: \"Participants\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 7\n    }, this), chunk([...participants.keys()]).map(k => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: k.map(l => /*#__PURE__*/_jsxDEV(ParticipantView, {\n        participantId: l\n      }, l, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 467,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(ParticipantsView, \"jNCPfGMdK/JeoMkQwzV5RbYYrYQ=\", false, function () {\n  return [useMeeting];\n});\n\n_c6 = ParticipantsView;\n\nconst ConnectionView = _ref6 => {\n  _s5();\n\n  let {\n    connectionId\n  } = _ref6;\n  const {\n    connection\n  } = useConnection(connectionId, {\n    onMeeting: {\n      onChatMessage: _ref7 => {\n        let {\n          message,\n          participantId\n        } = _ref7;\n        alert(`A Person ${participantId} from ${connectionId} Wants to say : ${message}`);\n      }\n    }\n  });\n  const connectionParticipants = [...connection.meeting.participants.values()];\n\n  const ConnectionParticipant = _ref8 => {\n    let {\n      participant\n    } = _ref8;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 4,\n        border: \"1px solid blue\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: participant.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: async () => {\n          const meetingId = prompt(`In Which meetingId you want to switch ${participant.displayName} ?`);\n          const payload = prompt(\"enter payload you want to pass\");\n          const token = await getToken();\n\n          if (meetingId, token, payload) {\n            participant.switchTo({\n              meetingId,\n              token,\n              payload\n            }).catch(console.log);\n          } else {\n            alert(\"Empty meetingId or payload \");\n          }\n        },\n        className: \"button \",\n        children: \"Switch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width,\n      backgroundColor: primary,\n      borderRadius: borderRadius,\n      overflow: \"hidden\",\n      margin: borderRadius,\n      padding: borderRadius,\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        connection.close();\n      },\n      className: \"button\",\n      children: \"Close Connection\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        const message = prompt(\"Enter You Message\");\n\n        if (message) {\n          connection.meeting.sendChatMessage(message);\n        } else {\n          alert(\"Empty Message \");\n        }\n      },\n      className: \"button\",\n      children: \"Send Meessage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        connection.meeting.end();\n      },\n      className: \"button\",\n      children: \"End Meeting\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [connection.id, \" : \", connection.payload]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), connectionParticipants.map(participant => {\n      return /*#__PURE__*/_jsxDEV(ConnectionParticipant, {\n        participant: participant\n      }, `${connection.id}_${participant.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 529,\n    columnNumber: 5\n  }, this);\n};\n\n_s5(ConnectionView, \"tyOM1Us8J/ciltuOqBjac9dO148=\", false, function () {\n  return [useConnection];\n});\n\n_c7 = ConnectionView;\n\nconst ConnectionsView = () => {\n  _s6();\n\n  const {\n    connections,\n    meetingId\n  } = useMeeting();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      flexDirection: \"column\",\n      padding: borderRadius\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      dark: true,\n      title: \"Connections\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 7\n    }, this), chunk([...connections.keys()]).map(k => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: k.map(l => /*#__PURE__*/_jsxDEV(ConnectionView, {\n        connectionId: l\n      }, `${meetingId}_${l}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 13\n      }, this))\n    }, k, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 592,\n    columnNumber: 5\n  }, this);\n};\n\n_s6(ConnectionsView, \"FMmcr7ugjyh67qX3QYTc+uUQxtY=\", false, function () {\n  return [useMeeting];\n});\n\n_c8 = ConnectionsView;\n\nfunction MeetingView(_ref9) {\n  _s7();\n\n  let {\n    onNewMeetingIdToken,\n    onMeetingLeave\n  } = _ref9;\n  const [participantViewVisible, setParticipantViewVisible] = useState(true);\n\n  function onParticipantJoined(participant) {\n    console.log(\" onParticipantJoined\", participant);\n  }\n\n  function onParticipantLeft(participant) {\n    console.log(\" onParticipantLeft\", participant);\n  }\n\n  const onSpeakerChanged = activeSpeakerId => {\n    console.log(\" onSpeakerChanged\", activeSpeakerId);\n  };\n\n  function onPresenterChanged(presenterId) {\n    console.log(\" onPresenterChanged\", presenterId);\n  }\n\n  function onMainParticipantChanged(participant) {\n    console.log(\" onMainParticipantChanged\", participant);\n  }\n\n  function onEntryRequested(participantId, name) {\n    console.log(\" onEntryRequested\", participantId, name);\n  }\n\n  function onEntryResponded(participantId, name) {\n    console.log(\" onEntryResponded\", participantId, name);\n  }\n\n  function onRecordingStarted() {\n    console.log(\" onRecordingStarted\");\n  }\n\n  function onRecordingStopped() {\n    console.log(\" onRecordingStopped\");\n  }\n\n  function onChatMessage(data) {\n    console.log(\" onChatMessage\", data);\n  }\n\n  function onMeetingJoined() {\n    console.log(\"onMeetingJoined\");\n  }\n\n  function onMeetingLeft() {\n    console.log(\"onMeetingLeft\");\n    onMeetingLeave();\n  }\n\n  const onLiveStreamStarted = data => {\n    console.log(\"onLiveStreamStarted example\", data);\n  };\n\n  const onLiveStreamStopped = data => {\n    console.log(\"onLiveStreamStopped example\", data);\n  };\n\n  const onVideoStateChanged = data => {\n    console.log(\"onVideoStateChanged\", data);\n  };\n\n  const onVideoSeeked = data => {\n    console.log(\"onVideoSeeked\", data);\n  };\n\n  const onWebcamRequested = data => {\n    console.log(\"onWebcamRequested\", data);\n  };\n\n  const onMicRequested = data => {\n    console.log(\"onMicRequested\", data);\n  };\n\n  const onPinStateChanged = data => {\n    console.log(\"onPinStateChanged\", data);\n  };\n\n  const onSwitchMeeting = data => {\n    window.focus();\n    confirmAlert({\n      title: \"Confirm to submit\",\n      message: \"Are you sure you want to switch Meeting ?\",\n      buttons: [{\n        label: \"Yes\",\n        onClick: () => {\n          onNewMeetingIdToken(data);\n        }\n      }, {\n        label: \"No\",\n        onClick: () => {}\n      }]\n    });\n  };\n\n  const onConnectionOpen = data => {\n    console.log(\"onConnectionOpen\", data);\n  };\n\n  const {\n    meetingId,\n    meeting,\n    localParticipant,\n    mainParticipant,\n    activeSpeakerId,\n    participants,\n    presenterId,\n    localMicOn,\n    localWebcamOn,\n    localScreenShareOn,\n    messages,\n    isRecording,\n    isLiveStreaming,\n    pinnedParticipants,\n    //\n    join,\n    leave,\n    connectTo,\n    end,\n    //\n    startRecording,\n    stopRecording,\n    //\n    respondEntry,\n    //\n    muteMic,\n    unmuteMic,\n    toggleMic,\n    //\n    disableWebcam,\n    enableWebcam,\n    toggleWebcam,\n    //\n    disableScreenShare,\n    enableScreenShare,\n    toggleScreenShare,\n    //\n    getMics,\n    getWebcams,\n    changeWebcam,\n    changeMic,\n    startVideo,\n    stopVideo,\n    resumeVideo,\n    pauseVideo,\n    seekVideo,\n    startLivestream,\n    stopLivestream\n  } = useMeeting({\n    onParticipantJoined,\n    onParticipantLeft,\n    onSpeakerChanged,\n    onPresenterChanged,\n    onMainParticipantChanged,\n    onEntryRequested,\n    onEntryResponded,\n    onRecordingStarted,\n    onRecordingStopped,\n    onChatMessage,\n    onMeetingJoined,\n    onMeetingLeft,\n    onLiveStreamStarted,\n    onLiveStreamStopped,\n    onVideoStateChanged,\n    onVideoSeeked,\n    onWebcamRequested,\n    onMicRequested,\n    onPinStateChanged,\n    onSwitchMeeting,\n    onConnectionOpen\n  });\n\n  const handlestartVideo = () => {\n    console.log(\"handlestartVideo\");\n    startVideo({\n      link: \"https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4\"\n    });\n  };\n\n  const handlestopVideo = () => {\n    stopVideo();\n  };\n\n  const handleresumeVideo = () => {\n    resumeVideo();\n  };\n\n  const handlepauseVideo = () => {\n    pauseVideo({\n      currentTime: 2\n    });\n  };\n\n  const handlesseekVideo = () => {\n    seekVideo({\n      currentTime: 5\n    });\n  };\n\n  const handleStartLiveStream = () => {\n    startLivestream([{\n      url: \"rtmp://a.rtmp.youtube.com/live2\",\n      streamKey: \"key\"\n    }]);\n  };\n\n  const handleStopLiveStream = () => {\n    stopLivestream();\n  };\n\n  const handleStartRecording = () => {\n    startRecording();\n  };\n\n  const handleStopRecording = () => {\n    stopRecording();\n  };\n\n  const tollbarHeight = 120;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      backgroundColor: \"#D6E9FE\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: tollbarHeight\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button red\",\n        onClick: leave,\n        children: \"LEAVE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: toggleMic,\n        children: \"toggleMic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: () => {\n          toggleWebcam();\n        },\n        children: \"toggleWebcam\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 827,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: toggleScreenShare,\n        children: \"toggleScreenShare\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handlestartVideo,\n        children: \"startVideo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handlestopVideo,\n        children: \"stopVideo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handleresumeVideo,\n        children: \"resumeVideo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handlepauseVideo,\n        children: \"pauseVideo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 847,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handlesseekVideo,\n        children: \"seekVideo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handleStartLiveStream,\n        children: \"Start Live Stream\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handleStopLiveStream,\n        children: \"Stop Live Stream\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 856,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handleStartRecording,\n        children: \"start recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 859,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: handleStopRecording,\n        children: \"stop recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 862,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: () => setParticipantViewVisible(s => !s),\n        children: [\"Switch to \", participantViewVisible ? \"Connections\" : \"Participants\", \" \", \"view\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 865,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button blue\",\n        onClick: async () => {\n          const meetingId = prompt(`Please enter meeting id where you want Connect`);\n\n          if (meetingId) {\n            try {\n              await connectTo({\n                meetingId,\n                payload: \"This is Testing Payload\"\n              });\n            } catch (e) {\n              console.log(\"Connect to Error\", e);\n            }\n          } else {\n            alert(\"Empty meetingId!\");\n          }\n        },\n        children: \"Make Connections\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Meeting id is : \", meetingId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 896,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          position: \"relative\",\n          flex: 1,\n          overflowY: \"scroll\",\n          height: `calc(100vh - ${tollbarHeight}px)`\n        },\n        children: [/*#__PURE__*/_jsxDEV(ExternalVideo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }, this), participantViewVisible ? /*#__PURE__*/_jsxDEV(ParticipantsView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(ConnectionsView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 60\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MeetingChat, {\n        tollbarHeight: tollbarHeight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 912,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 813,\n    columnNumber: 5\n  }, this);\n}\n\n_s7(MeetingView, \"hvBzDZ+DbDHibMyf85LgkRnV5NI=\", false, function () {\n  return [useMeeting];\n});\n\n_c9 = MeetingView;\n\nconst App = () => {\n  _s8();\n\n  const [token, setToken] = useState(\"\");\n  const [meetingId, setMeetingId] = useState(\"\");\n  const [participantName, setParticipantName] = useState(\"\");\n  const [micOn, setMicOn] = useState(false);\n  const [webcamOn, setWebcamOn] = useState(false);\n  const [isMeetingStarted, setMeetingStarted] = useState(false);\n  return isMeetingStarted ? /*#__PURE__*/_jsxDEV(MeetingProvider, {\n    config: {\n      meetingId,\n      micEnabled: micOn,\n      webcamEnabled: webcamOn,\n      name: participantName ? participantName : \"TestUser\"\n    },\n    token: token,\n    reinitialiseMeetingOnConfigChange: true,\n    joinWithoutUserInteraction: true,\n    children: /*#__PURE__*/_jsxDEV(MeetingView, {\n      onNewMeetingIdToken: _ref10 => {\n        let {\n          meetingId,\n          token\n        } = _ref10;\n        setMeetingId(meetingId);\n        setToken(token);\n      },\n      onMeetingLeave: () => {\n        setToken(\"\");\n        setMeetingId(\"\");\n        setWebcamOn(false);\n        setMicOn(false);\n        setMeetingStarted(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 938,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 927,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(JoiningScreen, {\n    participantName: participantName,\n    setParticipantName: setParticipantName,\n    meetinId: meetingId,\n    setMeetingId: setMeetingId,\n    setToken: setToken,\n    setMicOn: setMicOn,\n    micOn: micOn,\n    webcamOn: webcamOn,\n    setWebcamOn: setWebcamOn,\n    onClickStartMeeting: () => {\n      setMeetingStarted(true);\n    },\n    startMeeting: isMeetingStarted\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 953,\n    columnNumber: 5\n  }, this);\n};\n\n_s8(App, \"IGGmuqXTflVqxF1P81xEhx16o5Q=\");\n\n_c10 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Title\");\n$RefreshReg$(_c2, \"ExternalVideo\");\n$RefreshReg$(_c3, \"MessageList\");\n$RefreshReg$(_c4, \"MeetingChat\");\n$RefreshReg$(_c5, \"ParticipantView\");\n$RefreshReg$(_c6, \"ParticipantsView\");\n$RefreshReg$(_c7, \"ConnectionView\");\n$RefreshReg$(_c8, \"ConnectionsView\");\n$RefreshReg$(_c9, \"MeetingView\");\n$RefreshReg$(_c10, \"App\");","map":{"version":3,"sources":["/home/vit/videosdk-rtc-react-sdk-example/src/App.js"],"names":["React","useEffect","useMemo","useRef","useState","MeetingProvider","useMeeting","useParticipant","useConnection","usePubSub","getToken","confirmAlert","JoiningScreen","ReactPlayer","primary","width","height","borderRadius","chunk","arr","newArr","length","push","splice","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","strTime","Title","title","dark","color","ExternalVideo","link","playing","setVideoInfo","onVideoStateChanged","data","currentTime","status","console","log","externalPlayer","current","src","play","s","pause","onVideoSeeked","padding","margin","backgroundColor","display","MessageList","messages","map","message","i","senderName","text","timestamp","overflow","fontStyle","marginTop","opacity","Date","MeetingChat","tollbarHeight","publish","setMessage","marginLeft","overflowY","e","v","target","value","m","persist","ParticipantView","participantId","webcamRef","micRef","screenShareRef","onStreamEnabled","stream","onStreamDisabled","displayName","participant","webcamStream","micStream","screenShareStream","webcamOn","micOn","screenShareOn","isLocal","isActiveSpeaker","isMainParticipant","switchTo","pinState","setQuality","setViewPort","enableMic","disableMic","enableWebcam","disableWebcam","pin","unpin","wrapper","offsetWidth","offsetHeight","webcamMediaStream","mediaStream","MediaStream","addTrack","track","screenShareMediaStream","srcObject","catch","error","flex","flexDirection","position","top","left","right","bottom","err","fontSize","fontWeight","meetingId","prompt","token","payload","alert","k","border","ParticipantsView","participants","flexWrap","keys","l","ConnectionView","connectionId","connection","onMeeting","onChatMessage","connectionParticipants","meeting","values","ConnectionParticipant","close","sendChatMessage","end","id","ConnectionsView","connections","MeetingView","onNewMeetingIdToken","onMeetingLeave","participantViewVisible","setParticipantViewVisible","onParticipantJoined","onParticipantLeft","onSpeakerChanged","activeSpeakerId","onPresenterChanged","presenterId","onMainParticipantChanged","onEntryRequested","name","onEntryResponded","onRecordingStarted","onRecordingStopped","onMeetingJoined","onMeetingLeft","onLiveStreamStarted","onLiveStreamStopped","onWebcamRequested","onMicRequested","onPinStateChanged","onSwitchMeeting","window","focus","buttons","label","onClick","onConnectionOpen","localParticipant","mainParticipant","localMicOn","localWebcamOn","localScreenShareOn","isRecording","isLiveStreaming","pinnedParticipants","join","leave","connectTo","startRecording","stopRecording","respondEntry","muteMic","unmuteMic","toggleMic","toggleWebcam","disableScreenShare","enableScreenShare","toggleScreenShare","getMics","getWebcams","changeWebcam","changeMic","startVideo","stopVideo","resumeVideo","pauseVideo","seekVideo","startLivestream","stopLivestream","handlestartVideo","handlestopVideo","handleresumeVideo","handlepauseVideo","handlesseekVideo","handleStartLiveStream","url","streamKey","handleStopLiveStream","handleStartRecording","handleStopRecording","App","setToken","setMeetingId","participantName","setParticipantName","setMicOn","setWebcamOn","isMeetingStarted","setMeetingStarted","micEnabled","webcamEnabled"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  MeetingProvider,\n  useMeeting,\n  useParticipant,\n  useConnection,\n  usePubSub,\n} from \"@videosdk.live/react-sdk\";\nimport { getToken } from \"./api\";\nimport { confirmAlert } from \"react-confirm-alert\"; // Import\nimport \"react-confirm-alert/src/react-confirm-alert.css\"; // Import css\nimport { JoiningScreen } from \"./components/JoiningScreen\";\nimport ReactPlayer from \"react-player\";\n\nconst primary = \"#3E84F6\";\n\nconst width = 400;\nconst height = (width * 2) / 3;\nconst borderRadius = 8;\n\nconst chunk = (arr) => {\n  const newArr = [];\n  while (arr.length) newArr.push(arr.splice(0, 3));\n  return newArr;\n};\n\nfunction formatAMPM(date) {\n  var hours = date.getHours();\n  var minutes = date.getMinutes();\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\n  hours = hours % 12;\n  hours = hours ? hours : 12; // the hour '0' should be '12'\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\n  return strTime;\n}\n\nconst Title = ({ title, dark }) => {\n  return <h2 style={{ color: dark ? primary : \"#fff\" }}>{title}</h2>;\n};\n\nconst ExternalVideo = () => {\n  const [{ link, playing }, setVideoInfo] = useState({\n    link: null,\n    playing: false,\n  });\n\n  const onVideoStateChanged = (data) => {\n    const { currentTime, link, status } = data;\n\n    switch (status) {\n      case \"stopped\":\n        console.log(\"stopped in switch\");\n        externalPlayer.current.src = null;\n        setVideoInfo({ link: null, playing: false });\n        break;\n      case \"resumed\":\n        if (typeof currentTime === \"number\") {\n          externalPlayer.current.currentTime = currentTime;\n        }\n        externalPlayer.current.play();\n        setVideoInfo((s) => ({ ...s, playing: true }));\n        break;\n      case \"paused\":\n        externalPlayer.current.pause();\n        setVideoInfo((s) => ({ ...s, playing: false }));\n        break;\n      case \"started\":\n        setVideoInfo({ link, playing: true });\n        break;\n      default:\n        break;\n    }\n  };\n\n  const onVideoSeeked = (data) => {\n    const { currentTime } = data;\n    if (typeof currentTime === \"number\") {\n      externalPlayer.current.currentTime = currentTime;\n    }\n  };\n\n  useMeeting({ onVideoStateChanged, onVideoSeeked });\n  const externalPlayer = useRef();\n\n  return !link ? null : (\n    <div\n      style={{\n        borderRadius,\n        padding: borderRadius,\n        margin: borderRadius,\n        backgroundColor: primary,\n        display: \"flex\",\n      }}\n    >\n      <Title title={\"Externam Video\"} />\n\n      <video\n        style={{ borderRadius, height, width, backgroundColor: \"black\" }}\n        autoPlay\n        ref={externalPlayer}\n        src={link}\n      />\n    </div>\n  );\n};\n\nconst MessageList = ({ messages }) => {\n  return (\n    <div>\n      {messages?.map((message, i) => {\n        const { senderName, message: text, timestamp } = message;\n\n        return (\n          <div\n            style={{\n              margin: 8,\n              backgroundColor: \"darkblue\",\n              borderRadius: 8,\n              overflow: \"hidden\",\n              padding: 8,\n              color: \"#fff\",\n            }}\n            key={i}\n          >\n            <p style={{ margin: 0, padding: 0, fontStyle: \"italic\" }}>\n              {senderName}\n            </p>\n            <h3 style={{ margin: 0, padding: 0, marginTop: 4 }}>{text}</h3>\n            <p\n              style={{\n                margin: 0,\n                padding: 0,\n                opacity: 0.6,\n                marginTop: 4,\n              }}\n            >\n              {formatAMPM(new Date(timestamp))}\n            </p>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nconst MeetingChat = ({ tollbarHeight }) => {\n  const { publish, messages } = usePubSub(\"CHAT\", {});\n  const [message, setMessage] = useState(\"\");\n  return (\n    <div\n      style={{\n        marginLeft: borderRadius,\n        width: 400,\n        backgroundColor: primary,\n        overflowY: \"scroll\",\n        borderRadius,\n        height: `calc(100vh - ${tollbarHeight + 2 * borderRadius}px)`,\n        padding: borderRadius,\n      }}\n    >\n      <Title title={\"Chat\"} />\n\n      <div style={{ display: \"flex\" }}>\n        <input\n          value={message}\n          onChange={(e) => {\n            const v = e.target.value;\n            setMessage(v);\n          }}\n        />\n        <button\n          className={\"button default\"}\n          onClick={() => {\n            const m = message;\n\n            if (m.length) {\n              publish(m, { persist: true });\n              setMessage(\"\");\n            }\n          }}\n        >\n          Send\n        </button>\n      </div>\n      <MessageList messages={messages} />\n    </div>\n  );\n};\n\nconst ParticipantView = ({ participantId }) => {\n  const webcamRef = useRef(null);\n  const micRef = useRef(null);\n  const screenShareRef = useRef(null);\n\n  const onStreamEnabled = (stream) => {};\n  const onStreamDisabled = (stream) => {};\n\n  const {\n    displayName,\n    participant,\n    webcamStream,\n    micStream,\n    screenShareStream,\n    webcamOn,\n    micOn,\n    screenShareOn,\n    isLocal,\n    isActiveSpeaker,\n    isMainParticipant,\n    switchTo,\n    pinState,\n    setQuality,\n    setViewPort,\n    enableMic,\n    disableMic,\n    enableWebcam,\n    disableWebcam,\n    pin,\n    unpin,\n  } = useParticipant(participantId, {\n    onStreamEnabled,\n    onStreamDisabled,\n  });\n\n  useEffect(() => {\n    if (webcamRef.current && !isLocal && webcamStream) {\n      setViewPort(\n        webcamRef.current.wrapper.offsetWidth,\n        webcamRef.current.wrapper.offsetHeight\n      );\n    }\n  }, [\n    webcamRef.current?.offsetHeight,\n    webcamRef.current?.offsetWidth,\n    webcamStream,\n  ]);\n\n  const webcamMediaStream = useMemo(() => {\n    if (webcamOn && webcamStream) {\n      const mediaStream = new MediaStream();\n      mediaStream.addTrack(webcamStream.track);\n      return mediaStream;\n    }\n  }, [webcamStream, webcamOn]);\n\n  const screenShareMediaStream = useMemo(() => {\n    if (screenShareOn) {\n      const mediaStream = new MediaStream();\n      mediaStream.addTrack(screenShareStream.track);\n      return mediaStream;\n    }\n  }, [screenShareStream, screenShareOn]);\n\n  useEffect(() => {\n    if (micRef.current) {\n      if (micOn && micStream) {\n        const mediaStream = new MediaStream();\n        mediaStream.addTrack(micStream.track);\n\n        micRef.current.srcObject = mediaStream;\n        micRef.current\n          .play()\n          .catch((error) => console.error(\"mic  play() failed\", error));\n      } else {\n        micRef.current.srcObject = null;\n      }\n    }\n  }, [micStream, micOn]);\n\n  return (\n    <div\n      style={{\n        width,\n        backgroundColor: primary,\n        borderRadius: borderRadius,\n        overflow: \"hidden\",\n        margin: borderRadius,\n        padding: borderRadius,\n        display: \"flex\",\n        flex: 1,\n        flexDirection: \"column\",\n        position: \"relative\",\n      }}\n    >\n      <audio ref={micRef} autoPlay muted={isLocal} />\n\n      <div\n        style={{\n          position: \"relative\",\n          borderRadius: borderRadius,\n          overflow: \"hidden\",\n          backgroundColor: \"black\",\n          width: \"100%\",\n          height: 300,\n        }}\n      >\n        <div\n          style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}\n        >\n          <>\n            <ReactPlayer\n              ref={webcamRef}\n              //\n              playsinline // very very imp prop\n              playIcon={<></>}\n              //\n              pip={false}\n              light={false}\n              controls={false}\n              muted={true}\n              playing={true}\n              //\n              url={webcamMediaStream}\n              //\n              height={\"100%\"}\n              width={\"100%\"}\n              onError={(err) => {\n                console.log(err, \"participant video error\");\n              }}\n            />\n          </>\n          <div\n            style={{\n              position: \"absolute\",\n              top: borderRadius,\n              right: borderRadius,\n            }}\n          >\n            <p\n              style={{\n                color: webcamOn ? \"green\" : \"red\",\n                fontSize: 16,\n                fontWeight: \"bold\",\n                opacity: 1,\n              }}\n            >\n              WEB CAM\n            </p>\n          </div>\n\n          <div\n            style={{\n              position: \"absolute\",\n              top: 10,\n              left: 10,\n            }}\n          >\n            <button\n              className=\"button blue\"\n              style={\n                {\n                  // height: 50,\n                  // width: 200,\n                }\n              }\n              onClick={async () => {\n                const meetingId = prompt(\n                  `Please enter meeting id where you want to switch ${displayName}`\n                );\n                const token = await getToken();\n                if (meetingId && token) {\n                  try {\n                    await switchTo({\n                      meetingId,\n                      payload: \"Im Switching\",\n                      token: token,\n                    });\n                  } catch (e) {\n                    console.log(\"swithc To Error\", e);\n                  }\n                } else {\n                  alert(\"Empty meetingId!\");\n                }\n              }}\n            >\n              Switch Participant\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div\n        style={{\n          marginTop: borderRadius,\n          position: \"relative\",\n          borderRadius: borderRadius,\n          overflow: \"hidden\",\n          backgroundColor: \"black\",\n          width: \"100%\",\n          height: 300,\n        }}\n      >\n        <div\n          style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}\n        >\n          <>\n            <ReactPlayer\n              ref={screenShareRef}\n              //\n              playsinline // very very imp prop\n              playIcon={<></>}\n              //\n              pip={false}\n              light={false}\n              controls={false}\n              muted={true}\n              playing={true}\n              //\n              url={screenShareMediaStream}\n              //\n              height={\"100%\"}\n              width={\"100%\"}\n              onError={(err) => {\n                console.log(err, \"participant video error\");\n              }}\n            />\n          </>\n          <div\n            style={{\n              position: \"absolute\",\n              top: borderRadius,\n              right: borderRadius,\n            }}\n          >\n            <p\n              style={{\n                color: screenShareOn ? \"green\" : \"red\",\n                fontSize: 16,\n                fontWeight: \"bold\",\n                opacity: 1,\n              }}\n            >\n              SCREEN SHARING\n            </p>\n          </div>\n        </div>\n      </div>\n      <table>\n        {[\n          { k: \"Name\", v: displayName },\n          { k: \"webcamOn\", v: webcamOn ? \"YES\" : \"NO\" },\n          { k: \"micOn\", v: micOn ? \"YES\" : \"NO\" },\n          { k: \"screenShareOn\", v: screenShareOn ? \"YES\" : \"NO\" },\n          { k: \"isLocal\", v: isLocal ? \"YES\" : \"NO\" },\n          { k: \"isActiveSpeaker\", v: isActiveSpeaker ? \"YES\" : \"NO\" },\n          { k: \"isMainParticipant\", v: isMainParticipant ? \"YES\" : \"NO\" },\n        ].map(({ k, v }) => (\n          <tr key={k}>\n            <td style={{ border: \"1px solid #fff\", padding: 4 }}>\n              <h3 style={{ margin: 0, padding: 0, color: \"#fff\" }}>{k}</h3>\n            </td>\n            <td style={{ border: \"1px solid #fff\", padding: 4 }}>\n              <h3 style={{ margin: 0, padding: 0, color: \"#fff\" }}>{v}</h3>\n            </td>\n          </tr>\n        ))}\n      </table>\n    </div>\n  );\n};\n\nconst ParticipantsView = () => {\n  const { participants } = useMeeting();\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flexDirection: \"column\",\n        padding: borderRadius,\n      }}\n    >\n      <Title dark title={\"Participants\"} />\n      {chunk([...participants.keys()]).map((k) => (\n        <div style={{ display: \"flex\" }}>\n          {k.map((l) => (\n            <ParticipantView key={l} participantId={l} />\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst ConnectionView = ({ connectionId }) => {\n  const { connection } = useConnection(connectionId, {\n    onMeeting: {\n      onChatMessage: ({ message, participantId }) => {\n        alert(\n          `A Person ${participantId} from ${connectionId} Wants to say : ${message}`\n        );\n      },\n    },\n  });\n\n  const connectionParticipants = [...connection.meeting.participants.values()];\n\n  const ConnectionParticipant = ({ participant }) => {\n    return (\n      <div style={{ padding: 4, border: \"1px solid blue\" }}>\n        <p>{participant.displayName}</p>\n        <button\n          onClick={async () => {\n            const meetingId = prompt(\n              `In Which meetingId you want to switch ${participant.displayName} ?`\n            );\n            const payload = prompt(\"enter payload you want to pass\");\n\n            const token = await getToken();\n            if ((meetingId, token, payload)) {\n              participant\n                .switchTo({ meetingId, token, payload })\n                .catch(console.log);\n            } else {\n              alert(\"Empty meetingId or payload \");\n            }\n          }}\n          className={\"button \"}\n        >\n          Switch\n        </button>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width,\n        backgroundColor: primary,\n        borderRadius: borderRadius,\n        overflow: \"hidden\",\n        margin: borderRadius,\n        padding: borderRadius,\n        display: \"flex\",\n        flex: 1,\n        flexDirection: \"column\",\n        position: \"relative\",\n      }}\n    >\n      <button\n        onClick={() => {\n          connection.close();\n        }}\n        className={\"button\"}\n      >\n        Close Connection\n      </button>\n\n      <button\n        onClick={() => {\n          const message = prompt(\"Enter You Message\");\n          if (message) {\n            connection.meeting.sendChatMessage(message);\n          } else {\n            alert(\"Empty Message \");\n          }\n        }}\n        className={\"button\"}\n      >\n        Send Meessage\n      </button>\n\n      <button\n        onClick={() => {\n          connection.meeting.end();\n        }}\n        className={\"button\"}\n      >\n        End Meeting\n      </button>\n      <p>\n        {connection.id} : {connection.payload}\n      </p>\n      {connectionParticipants.map((participant) => {\n        return (\n          <ConnectionParticipant\n            key={`${connection.id}_${participant.id}`}\n            participant={participant}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst ConnectionsView = () => {\n  const { connections, meetingId } = useMeeting();\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flexDirection: \"column\",\n        padding: borderRadius,\n      }}\n    >\n      <Title dark title={\"Connections\"} />\n      {chunk([...connections.keys()]).map((k) => (\n        <div style={{ display: \"flex\" }} key={k}>\n          {k.map((l) => (\n            <ConnectionView key={`${meetingId}_${l}`} connectionId={l} />\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nfunction MeetingView({ onNewMeetingIdToken, onMeetingLeave }) {\n  const [participantViewVisible, setParticipantViewVisible] = useState(true);\n\n  function onParticipantJoined(participant) {\n    console.log(\" onParticipantJoined\", participant);\n  }\n  function onParticipantLeft(participant) {\n    console.log(\" onParticipantLeft\", participant);\n  }\n  const onSpeakerChanged = (activeSpeakerId) => {\n    console.log(\" onSpeakerChanged\", activeSpeakerId);\n  };\n  function onPresenterChanged(presenterId) {\n    console.log(\" onPresenterChanged\", presenterId);\n  }\n  function onMainParticipantChanged(participant) {\n    console.log(\" onMainParticipantChanged\", participant);\n  }\n  function onEntryRequested(participantId, name) {\n    console.log(\" onEntryRequested\", participantId, name);\n  }\n  function onEntryResponded(participantId, name) {\n    console.log(\" onEntryResponded\", participantId, name);\n  }\n  function onRecordingStarted() {\n    console.log(\" onRecordingStarted\");\n  }\n  function onRecordingStopped() {\n    console.log(\" onRecordingStopped\");\n  }\n  function onChatMessage(data) {\n    console.log(\" onChatMessage\", data);\n  }\n  function onMeetingJoined() {\n    console.log(\"onMeetingJoined\");\n  }\n  function onMeetingLeft() {\n    console.log(\"onMeetingLeft\");\n    onMeetingLeave();\n  }\n  const onLiveStreamStarted = (data) => {\n    console.log(\"onLiveStreamStarted example\", data);\n  };\n  const onLiveStreamStopped = (data) => {\n    console.log(\"onLiveStreamStopped example\", data);\n  };\n\n  const onVideoStateChanged = (data) => {\n    console.log(\"onVideoStateChanged\", data);\n  };\n  const onVideoSeeked = (data) => {\n    console.log(\"onVideoSeeked\", data);\n  };\n\n  const onWebcamRequested = (data) => {\n    console.log(\"onWebcamRequested\", data);\n  };\n  const onMicRequested = (data) => {\n    console.log(\"onMicRequested\", data);\n  };\n  const onPinStateChanged = (data) => {\n    console.log(\"onPinStateChanged\", data);\n  };\n  const onSwitchMeeting = (data) => {\n    window.focus();\n    confirmAlert({\n      title: \"Confirm to submit\",\n      message: \"Are you sure you want to switch Meeting ?\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => {\n            onNewMeetingIdToken(data);\n          },\n        },\n        {\n          label: \"No\",\n          onClick: () => {},\n        },\n      ],\n    });\n  };\n\n  const onConnectionOpen = (data) => {\n    console.log(\"onConnectionOpen\", data);\n  };\n\n  const {\n    meetingId,\n    meeting,\n    localParticipant,\n    mainParticipant,\n    activeSpeakerId,\n    participants,\n    presenterId,\n    localMicOn,\n    localWebcamOn,\n    localScreenShareOn,\n    messages,\n    isRecording,\n    isLiveStreaming,\n    pinnedParticipants,\n    //\n    join,\n    leave,\n    connectTo,\n    end,\n    //\n    startRecording,\n    stopRecording,\n    //\n    respondEntry,\n    //\n    muteMic,\n    unmuteMic,\n    toggleMic,\n    //\n    disableWebcam,\n    enableWebcam,\n    toggleWebcam,\n    //\n    disableScreenShare,\n    enableScreenShare,\n    toggleScreenShare,\n    //\n    getMics,\n    getWebcams,\n    changeWebcam,\n    changeMic,\n\n    startVideo,\n    stopVideo,\n    resumeVideo,\n    pauseVideo,\n    seekVideo,\n    startLivestream,\n    stopLivestream,\n  } = useMeeting({\n    onParticipantJoined,\n    onParticipantLeft,\n    onSpeakerChanged,\n    onPresenterChanged,\n    onMainParticipantChanged,\n    onEntryRequested,\n    onEntryResponded,\n    onRecordingStarted,\n    onRecordingStopped,\n    onChatMessage,\n    onMeetingJoined,\n    onMeetingLeft,\n    onLiveStreamStarted,\n    onLiveStreamStopped,\n    onVideoStateChanged,\n    onVideoSeeked,\n    onWebcamRequested,\n    onMicRequested,\n    onPinStateChanged,\n    onSwitchMeeting,\n    onConnectionOpen,\n  });\n\n  const handlestartVideo = () => {\n    console.log(\"handlestartVideo\");\n\n    startVideo({\n      link: \"https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4\",\n    });\n  };\n  const handlestopVideo = () => {\n    stopVideo();\n  };\n  const handleresumeVideo = () => {\n    resumeVideo();\n  };\n  const handlepauseVideo = () => {\n    pauseVideo({ currentTime: 2 });\n  };\n  const handlesseekVideo = () => {\n    seekVideo({ currentTime: 5 });\n  };\n  const handleStartLiveStream = () => {\n    startLivestream([\n      {\n        url: \"rtmp://a.rtmp.youtube.com/live2\",\n        streamKey: \"key\",\n      },\n    ]);\n  };\n  const handleStopLiveStream = () => {\n    stopLivestream();\n  };\n  const handleStartRecording = () => {\n    startRecording();\n  };\n  const handleStopRecording = () => {\n    stopRecording();\n  };\n\n  const tollbarHeight = 120;\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        backgroundColor: \"#D6E9FE\",\n      }}\n    >\n      <div style={{ height: tollbarHeight }}>\n        <button className={\"button red\"} onClick={leave}>\n          LEAVE\n        </button>\n        <button className={\"button blue\"} onClick={toggleMic}>\n          toggleMic\n        </button>\n        <button\n          className={\"button blue\"}\n          onClick={() => {\n            toggleWebcam();\n          }}\n        >\n          toggleWebcam\n        </button>\n        <button className={\"button blue\"} onClick={toggleScreenShare}>\n          toggleScreenShare\n        </button>\n        <button className={\"button blue\"} onClick={handlestartVideo}>\n          startVideo\n        </button>\n        <button className={\"button blue\"} onClick={handlestopVideo}>\n          stopVideo\n        </button>\n        <button className={\"button blue\"} onClick={handleresumeVideo}>\n          resumeVideo\n        </button>\n        <button className={\"button blue\"} onClick={handlepauseVideo}>\n          pauseVideo\n        </button>\n        <button className={\"button blue\"} onClick={handlesseekVideo}>\n          seekVideo\n        </button>\n        <button className={\"button blue\"} onClick={handleStartLiveStream}>\n          Start Live Stream\n        </button>\n        <button className={\"button blue\"} onClick={handleStopLiveStream}>\n          Stop Live Stream\n        </button>\n        <button className={\"button blue\"} onClick={handleStartRecording}>\n          start recording\n        </button>\n        <button className={\"button blue\"} onClick={handleStopRecording}>\n          stop recording\n        </button>\n        <button\n          className={\"button blue\"}\n          onClick={() => setParticipantViewVisible((s) => !s)}\n        >\n          Switch to {participantViewVisible ? \"Connections\" : \"Participants\"}{\" \"}\n          view\n        </button>\n\n        <button\n          className={\"button blue\"}\n          onClick={async () => {\n            const meetingId = prompt(\n              `Please enter meeting id where you want Connect`\n            );\n            if (meetingId) {\n              try {\n                await connectTo({\n                  meetingId,\n                  payload: \"This is Testing Payload\",\n                });\n              } catch (e) {\n                console.log(\"Connect to Error\", e);\n              }\n            } else {\n              alert(\"Empty meetingId!\");\n            }\n          }}\n        >\n          Make Connections\n        </button>\n      </div>\n      <h1>Meeting id is : {meetingId}</h1>\n      <div style={{ display: \"flex\", flex: 1 }}>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"relative\",\n            flex: 1,\n            overflowY: \"scroll\",\n            height: `calc(100vh - ${tollbarHeight}px)`,\n          }}\n        >\n          <ExternalVideo />\n          {/* <ParticipantsView /> */}\n          {participantViewVisible ? <ParticipantsView /> : <ConnectionsView />}\n        </div>\n        <MeetingChat tollbarHeight={tollbarHeight} />\n      </div>\n    </div>\n  );\n}\n\nconst App = () => {\n  const [token, setToken] = useState(\"\");\n  const [meetingId, setMeetingId] = useState(\"\");\n  const [participantName, setParticipantName] = useState(\"\");\n  const [micOn, setMicOn] = useState(false);\n  const [webcamOn, setWebcamOn] = useState(false);\n  const [isMeetingStarted, setMeetingStarted] = useState(false);\n\n  return isMeetingStarted ? (\n    <MeetingProvider\n      config={{\n        meetingId,\n        micEnabled: micOn,\n        webcamEnabled: webcamOn,\n        name: participantName ? participantName : \"TestUser\",\n      }}\n      token={token}\n      reinitialiseMeetingOnConfigChange={true}\n      joinWithoutUserInteraction={true}\n    >\n      <MeetingView\n        onNewMeetingIdToken={({ meetingId, token }) => {\n          setMeetingId(meetingId);\n          setToken(token);\n        }}\n        onMeetingLeave={() => {\n          setToken(\"\");\n          setMeetingId(\"\");\n          setWebcamOn(false);\n          setMicOn(false);\n          setMeetingStarted(false);\n        }}\n      />\n    </MeetingProvider>\n  ) : (\n    <JoiningScreen\n      participantName={participantName}\n      setParticipantName={setParticipantName}\n      meetinId={meetingId}\n      setMeetingId={setMeetingId}\n      setToken={setToken}\n      setMicOn={setMicOn}\n      micOn={micOn}\n      webcamOn={webcamOn}\n      setWebcamOn={setWebcamOn}\n      onClickStartMeeting={() => {\n        setMeetingStarted(true);\n      }}\n      startMeeting={isMeetingStarted}\n    />\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}